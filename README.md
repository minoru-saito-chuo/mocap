# モーションキャプチャデータ解析ツール

## 概要
本Webアプリは、國井研究室においてモーションキャプチャのデータ解析をより効率化すべく開発したものであり、モーションキャプチャ「OptiTrack」の解析ソフト「Motive」からエクスポートされたCSVファイルをそのまま添付するだけで、自動で各種変位やスリップ率などを解析し、グラフ化するソフトである。CSVデータの対象物が動作する前後の静止部分は自動でカットするようになっている。

## 使い方
### 1. 以下のサイトにアクセス
https://minoru-saito-chuo.github.io/mocap/

### 2. ファイルを添付
ファイルはMotiveによりエクスポートされたCSVにのみ対応。複数ファイルの添付も可能。

### 3. 基準速度、鉛直・進行方向を追加
基準速度はスリップ率を算出するために使用。スリップ率のデータを使用しない場合はデフォルト値で問題なし。鉛直方向はほとんどの場合Yであるから問題なし。進行方向は対象物の動き出しの方向であり、これは対象物の動かし方やキャリブレーションの仕方により異なるためよく確認すること。

### 4. 剛体を選択する
解析したい剛体の名称を選択する。キャプチャ時に削除し忘れたであろう剛体なども一覧に表示される。剛体を選択すると、凡例名を追加できるのでここで追加を推奨する。追加しない場合、ファイル名-剛体名という凡例がつくが、長いため以降のグラフで見づらくなる。

### 5. 解析開始を押下
解析開始ボタンを押下することにより全ての計算が行われ、表示される。

## 注意点
### 動き出しの判別について
対象物の動き出しの判別は、デフォルトでは、初期値±(進行方向軸の最大値 - 進行方向軸の最小値)*0.001 の範囲を飛び出した瞬間としている。同様に動き終わりは最終値±(進行方向軸の最大値 - 進行方向軸の最小値)*0.001の 範囲に最初に入った瞬間としている。したがって何度も同じ場所を行ったり来たりするような対象物に対しては誤検出の可能性がある。また、この0.001の値はオプションで変更できるが、大きくしすぎると開始・終了時の過渡変化が捉えられなくなるし、小さすぎると揺らぎに負けて動作を検出できなくなるため塩梅が難しい所である。

### 解析結果の平均値について
解析結果の平均値は、上記の動き出しの判別に使用するパラメータにより大きく変化する。例えば加減速を含めるか、安定状態の値を取るかで平均値は大きく変わる。したがって、絶対的な結果として用いるべきではなく、あくまでも他の対象物の結果との比較用として用いるのが最適である。

### カジュアル/フォーマル
グラフエリアの右上にあるスタイルではカジュアルモードとフォーマルモードを変更できる。デフォルトはカジュアルであり、カラフルな配色でグラフが描画されるが、フォーマルモードにすることで論文等の白黒印刷環境でも見やすいような記号ベースのグラフに変更することができる。
